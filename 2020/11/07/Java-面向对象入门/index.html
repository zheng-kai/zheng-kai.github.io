<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Java 面向对象入门 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="目标读者: 了解 Java 基本数据类型，权限修饰符，继承，封装，静态。掌握 Java 输出、for、if 等基本语法。熟练应用函数，了解函数重载。">
<meta property="og:type" content="article">
<meta property="og:title" content="Java 面向对象入门">
<meta property="og:url" content="http://example.com/2020/11/07/Java-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="目标读者: 了解 Java 基本数据类型，权限修饰符，继承，封装，静态。掌握 Java 输出、for、if 等基本语法。熟练应用函数，了解函数重载。">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-11-07T05:26:37.000Z">
<meta property="article:modified_time" content="2021-03-03T03:02:32.000Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="面向对象">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.1.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-Java-面向对象入门" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/11/07/Java-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/" class="article-date">
  <time class="dt-published" datetime="2020-11-07T05:26:37.000Z" itemprop="datePublished">2020-11-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Java 面向对象入门
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><code>目标读者</code>:</p>
<p>了解 Java 基本数据类型，权限修饰符，继承，封装，静态。<br>掌握 Java 输出、for、if 等基本语法。<br>熟练应用函数，了解函数重载。</p>
<span id="more"></span>

<h2 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h2><ul>
<li><p>关键字 <code>abstract</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用abstract关键字修饰的类就是抽象类。</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>抽象类和普通类的区别：</p>
<ol>
<li><p>抽象类不能被实例化</p>
</li>
<li><p>抽象类的子类必须实现它的抽象方法，除非这个子类也是抽象类。</p>
</li>
<li><p>抽象类可以拥有抽象方法。普通的类不能拥有抽象方法。</p>
<blockquote>
<p>抽象方法：</p>
<p>被<code>abstract</code>关键字修饰的方法就是抽象方法。</p>
<p>抽象方法需要被子类实现，即重写（Override）。如果子类也是抽象类，那么可以不重写抽象方法，或者重写其中几个。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line">    <span class="comment">// 将会说出的一段话。e.g 我是杨晨</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> String <span class="title function_">words</span><span class="params">()</span>;</span><br><span class="line">    <span class="comment">// 做出一个动作。e.g 露出开心的笑容</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> String <span class="title function_">action</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
<p>这是一个例子：</p>
<ul>
<li>需求：</li>
</ul>
<p>​	我们需要定义<strong>老师和学生</strong>。他们都是<strong>人</strong>，都拥有<strong>年龄</strong>和名字。每个人<strong>都可以做一件事</strong>：先做一个动作，然后再说一句话。每个人的<strong>动作可以不同</strong>，说的<strong>话也可以不同</strong>。</p>
<p>​	<strong>老师</strong>需要教一门课程，在老师说话时需要说出自己教的课程名称。</p>
<p>​	对<strong>学生</strong>没有特殊要求。</p>
<ul>
<li><p>定义抽象类<code>People</code></p>
<p>​	根据需求，可以将老师和同学共同的部分抽象出来，组成抽象类。这样功能相同的代码只需要写一次，老师和学生只要继承<code>People</code>即可。</p>
<p>​	使用抽象类时，如果需求发生变化，我们想去掉年龄，增加性别、学历、户籍等信息，只需要修改People一个类即可。如果不使用继承需要修改<code>Student</code>和<code>Teacher</code>两个类。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> classroom;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">protected</span> String name;</span><br><span class="line">    <span class="keyword">protected</span> String words;</span><br><span class="line">    <span class="keyword">protected</span> String express;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">People</span><span class="params">(<span class="type">int</span> age, String name, String words, String express)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.words = words;</span><br><span class="line">        <span class="built_in">this</span>.express = express;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 每个人可以做些什么</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">doSomething</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">express</span> <span class="operator">=</span> action();</span><br><span class="line">        <span class="type">String</span> <span class="variable">words</span> <span class="operator">=</span> words();</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> Math.max(express.length(), words.length()) * <span class="number">2</span>;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        String line;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len / <span class="number">2</span>; i++) &#123;</span><br><span class="line">            sb.append(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        sb.append(name).append(<span class="string">&quot;的分割线&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len / <span class="number">2</span>; i++) &#123;</span><br><span class="line">            sb.append(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        line = sb.toString();</span><br><span class="line">        System.out.println(line);</span><br><span class="line">        System.out.println(express);</span><br><span class="line">        System.out.print(<span class="string">&quot;然后说：\&quot;&quot;</span>);</span><br><span class="line">        System.out.print(words);</span><br><span class="line">        System.out.println(<span class="string">&quot;。\&quot;&quot;</span>);</span><br><span class="line">        System.out.println(line);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将会说出的一段话。e.g 我是杨晨</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> String <span class="title function_">words</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 做出一个动作。e.g 露出开心的笑容</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> String <span class="title function_">action</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>Teacher类</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> classroom;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.function.BiFunction;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span> <span class="keyword">extends</span> <span class="title class_">People</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> String subject;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Map&lt;String, Integer&gt; answer2count = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Teacher</span><span class="params">(<span class="type">int</span> age, String name, String words, String expression)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(age, name, words, expression, <span class="string">&quot;高数&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Teacher</span><span class="params">(<span class="type">int</span> age, String name, String words, String expression, String subject)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(age, name, words, expression);</span><br><span class="line">        <span class="built_in">this</span>.subject = subject;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> String <span class="title function_">words</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span>  words + <span class="string">&quot;。今天我给大家讲一讲《&quot;</span> +</span><br><span class="line">                subject +</span><br><span class="line">                <span class="string">&quot;》&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> String <span class="title function_">action</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name + <span class="string">&quot;老师&quot;</span> +</span><br><span class="line">                express + <span class="string">&quot;。&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>Student类</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> classroom;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">People</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(<span class="type">int</span> age, String name, String words, String expression)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(age, name, words, expression);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> String <span class="title function_">words</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span>  words;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> String <span class="title function_">action</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name + <span class="string">&quot;同学&quot;</span> +</span><br><span class="line">                express + <span class="string">&quot;。&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>Main 主程序</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">People</span> <span class="variable">mbg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>(<span class="number">69</span>, <span class="string">&quot;马保国&quot;</span>,</span><br><span class="line">                <span class="string">&quot;现在的年轻人不讲武德&quot;</span>, <span class="string">&quot;捂着红肿的眼睛&quot;</span>,</span><br><span class="line">                <span class="string">&quot;武德&quot;</span>);</span><br><span class="line">        <span class="type">People</span> <span class="variable">yc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>(<span class="number">19</span>, <span class="string">&quot;杨晨&quot;</span>,</span><br><span class="line">                <span class="string">&quot;我女妆真好看&quot;</span>, <span class="string">&quot;露出开心的笑容&quot;</span>,</span><br><span class="line">                <span class="string">&quot;女妆的一百零八种技巧&quot;</span>);</span><br><span class="line">        <span class="type">People</span> <span class="variable">zk</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">21</span>, <span class="string">&quot;郑开&quot;</span>,</span><br><span class="line">                <span class="string">&quot;杨晨学姐太强力&quot;</span>, <span class="string">&quot;拍了拍杨晨&quot;</span>);</span><br><span class="line">        List&lt;People&gt; peoples = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        peoples.add(mbg);</span><br><span class="line">        peoples.add(yc);</span><br><span class="line">        peoples.add(zk);</span><br><span class="line">        <span class="keyword">for</span> (People people : peoples) &#123;</span><br><span class="line">            people.doSomething();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>输出结果</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">=====================马保国的分割线=====================</span><br><span class="line">马保国老师捂着红肿的眼睛。</span><br><span class="line">然后说：<span class="string">&quot;年轻人不讲武德。今天我给大家讲一讲《武德》。&quot;</span></span><br><span class="line">=====================马保国的分割线=====================</span><br><span class="line">============================杨晨的分割线============================</span><br><span class="line">杨晨老师露出开心的笑容。</span><br><span class="line">然后说：<span class="string">&quot;我女妆真好看。今天我给大家讲一讲《女妆的一百零八种技巧》。&quot;</span></span><br><span class="line">============================杨晨的分割线============================</span><br><span class="line">==========郑开的分割线==========</span><br><span class="line">郑开同学拍了拍杨晨。</span><br><span class="line">然后说：<span class="string">&quot;杨晨学姐太强力。&quot;</span></span><br><span class="line">==========郑开的分割线==========</span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><p>多态存在的<strong>三个必要条件</strong></p>
<ul>
<li>继承</li>
<li>重写</li>
<li>父类引用指向子类对象</li>
</ul>
<p>多态的优点</p>
<ol>
<li><p>消除类型之间的耦合关系</p>
</li>
<li><p>可替换性</p>
</li>
<li><p>可扩充性</p>
</li>
<li><p>接口性</p>
</li>
<li><p>灵活性</p>
</li>
<li><p>简化性</p>
</li>
</ol>
<p>多态是同一个行为具有多个不同表现形式或形态的能力。如：老师和学生都可以<code>doSomething</code>，但是他们do的方式不一样。虽然<code>mbg</code>，<code>yc</code>，<code>zk</code>都是People类型的变量，都调用了同一个方法，但是却有不同的表现形式。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">People</span> <span class="variable">mbg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>(<span class="number">69</span>, <span class="string">&quot;马保国&quot;</span>,</span><br><span class="line">                <span class="string">&quot;现在的年轻人不讲武德&quot;</span>, <span class="string">&quot;捂着红肿的眼睛&quot;</span>,</span><br><span class="line">                <span class="string">&quot;武德&quot;</span>);</span><br><span class="line">        <span class="type">People</span> <span class="variable">yc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>(<span class="number">19</span>, <span class="string">&quot;杨晨&quot;</span>,</span><br><span class="line">                <span class="string">&quot;我女妆真好看&quot;</span>, <span class="string">&quot;露出开心的笑容&quot;</span>,</span><br><span class="line">                <span class="string">&quot;女妆的一百零八种技巧&quot;</span>);</span><br><span class="line">       <span class="type">People</span> <span class="variable">zk</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">21</span>, <span class="string">&quot;郑开&quot;</span>,</span><br><span class="line">                <span class="string">&quot;杨晨学姐太强了&quot;</span>, <span class="string">&quot;拍了拍杨晨&quot;</span>);</span><br><span class="line">        List&lt;People&gt; peoples = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        peoples.add(mbg);</span><br><span class="line">        peoples.add(yc);</span><br><span class="line">        peoples.add(zk);</span><br><span class="line">        <span class="keyword">for</span> (People people : peoples) &#123;</span><br><span class="line">            <span class="comment">// 尽管有的人是老师，有的人是同学，但我们并不在乎。</span></span><br><span class="line">            <span class="comment">// 因为多态，所以我们可以使用相同的方式，来调用不同的函数。</span></span><br><span class="line">            people.doSomething();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><p>​	关键字<code>interface</code>，<code>implements</code></p>
<p>​	众所周知，Java的类只能单继承，无论继承的是普通类还是抽象类。但是在庞大的程序中，多继承是不可避免的。为了实现这个功能，Java中引入了接口（Interface）。</p>
<blockquote>
<p>那么问题来了，既然还是要有多继承，为什么不直接设计成可以继承多个类呢？</p>
<p>在C++里，类是可以多继承的，但正是因为它的多继承，让程序员们遇到了很多问题。如菱形继承问题：B继承了A，C继承了A，而D同时继承了B和C，这时D中会出现两个同名的父类A，在使用A时会带来一些问题。</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_40922859/article/details/89389590">一篇解释这个问题的博客</a></p>
</blockquote>
<ul>
<li><p>接口中可以定义函数和变量</p>
<ol>
<li>接口默认函数是<code>public abstract</code>的。而且接口中的函数只能是public的。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Answerable</span> &#123;</span><br><span class="line">    <span class="comment">//去掉这里的public abstract 也是一样的效果</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">answerQuestion</span><span class="params">(String answer)</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>接口中默认的变量是<code>public static final</code>的。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">QAndA</span> <span class="keyword">extends</span> <span class="title class_">Answerable</span>,CanAsk &#123;</span><br><span class="line">    <span class="comment">//去掉这里的public static final 也是一样的效果</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">test</span> <span class="operator">=</span> <span class="string">&quot;这是一个test&quot;</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>接口可以被类用实现，一个类可以实现多个接口。<code>implments</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Answerable.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Answerable</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">answerQuestion</span><span class="params">(String answer)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//CanAsk.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">CanAsk</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">askQuestion</span><span class="params">(Answerable answerable, String question)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//People.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">People</span> <span class="keyword">implements</span> <span class="title class_">CanAsk</span>, Answerable &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    <span class="comment">//因为是抽象类，所以即使不实现接口中定义的函数也可以。</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>接口可以继承多个接口。<code>extends</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">QAndA</span> <span class="keyword">extends</span> <span class="title class_">Answerable</span>,CanAsk &#123;</span><br><span class="line">    <span class="comment">//QAndA接口中有在Answerable定义的抽象方法 answerQuestion和CanAsk中定义的抽象方法askQuetion</span></span><br><span class="line">    <span class="comment">// 可以定义新的方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<blockquote>
<p>有了接口也就解决了之前说的多继承的问题。即使不同的接口有同名的函数，因为都没有实现，所以也就不会有菱形继承的问题。</p>
</blockquote>
<ul>
<li><p>接口与抽象类：</p>
<ol>
<li><p><code>static</code>与<code>default</code></p>
<p>在jdk1.8之后，增加了这两个特性。在接口中可以使用<code>static</code>和<code>default</code>来修饰方法，当使用这两个关键字来修饰函数时，函数就不能被<code>abstract</code>修饰了。</p>
<p>接口中可以定义静态函数，使用方式和类没有区别。需要在接口中定义函数实现。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">InterfaceA</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 静态方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">showStatic</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;InterfaceA++showStatic&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        InterfaceA.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 结果</span></span><br><span class="line">InterfaceA++showStatic</span><br></pre></td></tr></table></figure>

<p>在类中，<code>default</code>是默认的访问修饰符，不需要写出。但是同时<code>default</code>也是Java的关键字，在接口中使用它修饰方法，表示该方法需要一个默认的实现。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">InterfaceA</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 静态方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">showStatic</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;InterfaceA++showStatic&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 默认方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">showDefault</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;InterfaceA ++showDefault&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InterfaceAImpl</span> <span class="keyword">implements</span> <span class="title class_">InterfaceA</span>&#123;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        InterfaceA.showStatic();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">InterfaceAImpl</span>().showDefault();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 结果</span></span><br><span class="line">InterfaceA++showStatic</span><br><span class="line">InterfaceA ++showDefault</span><br></pre></td></tr></table></figure>

<p>子类可以重写接口的default函数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InterfaceAImpl</span> <span class="keyword">implements</span> <span class="title class_">InterfaceA</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * </span></span><br><span class="line"><span class="comment">     * 跟接口default方法一致,但不能再加default修饰符</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showDefault</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;InterfaceAImpl++ defaultShow&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>既然在jdk1.8之后，接口可以有默认的函数实现了，那之前的菱形继承的问题，不就又出现了吗。在Java中提供了解决方案，只要出现了冲突，那么子类就必须要重写这个函数。</p>
</blockquote>
</li>
<li><p>他们都不可以被实例化</p>
</li>
<li><p>一个类可以实现多个接口，但只能继承一个类。</p>
</li>
</ol>
</li>
</ul>
<h3 id="匿名内部类与Lambda表达式"><a href="#匿名内部类与Lambda表达式" class="headerlink" title="匿名内部类与Lambda表达式"></a>匿名内部类与Lambda表达式</h3><ul>
<li><p>匿名内部类</p>
<p>在类的内部，我们依旧可以定义类。这样的类叫做<strong>内部类</strong>。其中有一种特殊的内部类叫做<strong>匿名内部类</strong>。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个接口</span></span><br><span class="line"><span class="keyword">package</span> anoymous;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">speak</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> anoymous;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnonymousMain</span> &#123;</span><br><span class="line">    <span class="comment">//内部类</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">AnimalImpl</span> <span class="keyword">implements</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">speak</span><span class="params">()</span> &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">animalImpl</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnimalImpl</span>();</span><br><span class="line">        <span class="comment">// 匿名内部类，匿名内部类实际上也创建了一个新的类，我们需要实现接口中的抽象函数。但是匿名内部类只能实例化这一次。</span></span><br><span class="line">        <span class="comment">// 除了接口，抽象类也可以通过匿名内部类的方式创建实例。</span></span><br><span class="line">        <span class="type">Animal</span> <span class="variable">anonymousAnimal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Animal</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">speak</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>Lambda表达式</p>
<p>当接口只有一个函数时，可以用Lambda表达式替换匿名内部类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> anoymous;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">SingleFunctionInterface</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">function</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> anoymous;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnonymousMain</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 匿名内部类</span></span><br><span class="line">        <span class="type">SingleFunctionInterface</span> <span class="variable">singleFunctionInterface</span> <span class="operator">=</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">SingleFunctionInterface</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">function</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">                System.out.println(a + b);</span><br><span class="line">                <span class="keyword">return</span> a + b;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// Lambda表达式</span></span><br><span class="line">        <span class="comment">// ()括号中的参数对应接口中函数的参数列表。</span></span><br><span class="line">        <span class="comment">// -&gt;剪头后&#123;&#125;花括号内的内容为实现的方法体</span></span><br><span class="line">        <span class="type">SingleFunctionInterface</span> <span class="variable">singleFunctionInterface2</span> <span class="operator">=</span></span><br><span class="line">                (a, b) -&gt; &#123;</span><br><span class="line">                    System.out.println(a + b);</span><br><span class="line">                    <span class="keyword">return</span> a + b;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><p>Java泛型（<code>generics</code>）是JDK 5中引入的一个新特性，<strong>泛型提供了编译时类型安全监测机制</strong>，该机制允许程序员在编译时监测非法的类型（编译后与泛型相关的信息会被擦掉，即<strong>类型擦除</strong>）。使用泛型机制编写的程序代码要比那些杂乱地使用<code>Object</code>变量，然后再进行强制类型转换的代码具有<strong>更好的安全性和可读性</strong>。泛型对于集合类尤其有用，例如，<code>ArrayList</code>就是一个无处不在的集合类。</p>
<p><strong>泛型的本质是参数化类型</strong>，也就是所操作的数据类型被指定为一个参数。</p>
<blockquote>
<p>我们为什么需要泛型？</p>
<p>假如我们需要一个类在使用上和数组的使用几乎无异，但是它可以自动扩展长度.</p>
<p>当添加的元素数量超过数组的长度时,这个类会新建一个长度为原本长度2倍的数组来替换原本的数组.</p>
<p>这时我们需要创建一个类,它拥有一个数组类型的成员变量,像这样.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> generic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringsClass</span> &#123;</span><br><span class="line"><span class="keyword">private</span> String[] data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">StringsClass</span><span class="params">(String[] data)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.data = data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> String[] getData() &#123;</span><br><span class="line">  <span class="keyword">return</span> data;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但是数组创建时我们可以任意指定一种类型.如果我们需要整数类型,那就要这样:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> generic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IntegersClass</span> &#123;</span><br><span class="line"><span class="keyword">private</span> Integer[] data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">IntegersClass</span><span class="params">(Integer[] data)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.data = data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> Integer[] getData() &#123;</span><br><span class="line">  <span class="keyword">return</span> data;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样不仅代码会高度重复,而且我每自定义一个新的类型，都需要再写一个类，再重复一遍代码。</p>
<p>那不如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> generic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ObjectsClass</span> &#123;</span><br><span class="line"> <span class="keyword">private</span> Object[] data;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="title function_">ObjectsClass</span><span class="params">(Object[] data)</span> &#123;</span><br><span class="line">     <span class="built_in">this</span>.data = data;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> Object[] getData() &#123;</span><br><span class="line">     <span class="keyword">return</span> data;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>因为Java中，所有类的父类都是Object，这样不管你要什么类型都可以了。我们只需要ObjectsClass一个类即可维护所有类型的数组。</p>
<p>但是这样使用时需要强制类型转换，而且在使用时我也无法得知，某个ObjectsClass类的实例到底存了什么类型的变量。data变量很可能存了不同类型的变量，在实际使用时依旧存在很多问题。</p>
<p>所以我们需要一种机制来解决这个问题，它就是<strong>泛型（<code>generics</code>）</strong></p>
</blockquote>
<h3 id="泛型类"><a href="#泛型类" class="headerlink" title="泛型类"></a>泛型类</h3><p>在类名后增加&lt;T&gt;,就是泛型类.其中T是泛型变量。我们也可以指定多个泛型变量，而且可以任意命名（必须符合java变量的命名规范），比如：&lt;T,K,M,O&gt;，&lt;FIRST,SECOND&gt;。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> generic;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericClass</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> T[] data;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">GenericClass</span><span class="params">(T[] data)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T[] getData() &#123;</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> generic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericMain</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Integer[] integers = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">        <span class="comment">//&lt;&gt;我们通过这个尖括号来指定类型。我们可以认为它是类的参数，在使用这个类的时候我们需要传入参数，当传入Integer类型时，GenericClass中的T就是Integer。</span></span><br><span class="line">        GenericClass&lt;Integer&gt; integerGenericClass = <span class="keyword">new</span> <span class="title class_">GenericClass</span>&lt;&gt;(integers);</span><br><span class="line">        String[] strings = &#123;<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;ccc&quot;</span>,<span class="string">&quot;defg&quot;</span>&#125;;</span><br><span class="line">        GenericClass&lt;String&gt; stringGenericClass = <span class="keyword">new</span> <span class="title class_">GenericClass</span>&lt;&gt;(strings);</span><br><span class="line">        <span class="comment">// 如果不指定类型T 就是Object类型，但是不推荐这样使用。</span></span><br><span class="line">        <span class="type">GenericClass</span> <span class="variable">genericClass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GenericClass</span>(integers);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="泛型接口"><a href="#泛型接口" class="headerlink" title="泛型接口"></a>泛型接口</h3><p>定义泛型接口的方式和定义泛型类很相近。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> generic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Generator</span>&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">next</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//继承了泛型接口，但是是普通类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FruitGenerator</span> <span class="keyword">implements</span> <span class="title class_">Generator</span>&lt;String&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">next</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Fruit&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//继承了泛型接口，但是是泛型类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FruitGenerator</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Generator</span>&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> T next;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FruitGenerator</span><span class="params">(T next)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.next = next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">next</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        FruitGenerator&lt;String&gt; fruit = <span class="keyword">new</span> <span class="title class_">FruitGenerator</span>&lt;&gt;(<span class="string">&quot;Fruit&quot;</span>);</span><br><span class="line">        System.out.println(fruit.next);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="泛型方法"><a href="#泛型方法" class="headerlink" title="泛型方法"></a>泛型方法</h3><p>定义泛型方法时，<strong>尖括号和类型变量</strong>需要放在<strong>修饰符</strong>和返回类型之间。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> generic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericMain</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Integer[] integers = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">        GenericClass&lt;Integer&gt; integerGenericClass = <span class="keyword">new</span> <span class="title class_">GenericClass</span>&lt;&gt;(integers);</span><br><span class="line">        String[] strings = &#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;ccc&quot;</span>, <span class="string">&quot;defg&quot;</span>&#125;;</span><br><span class="line">        GenericClass&lt;String&gt; stringGenericClass = <span class="keyword">new</span> <span class="title class_">GenericClass</span>&lt;&gt;(strings);</span><br><span class="line">        <span class="type">GenericClass</span> <span class="variable">genericClass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GenericClass</span>(integers);</span><br><span class="line">        print(integerGenericClass.getData());</span><br><span class="line">        print(stringGenericClass.getData());</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">// 在返回类型前指定泛型&lt;T&gt; </span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="keyword">void</span> <span class="title function_">print</span><span class="params">(T[] ts)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (T t : ts) &#123;</span><br><span class="line">            System.out.print(t + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="常用的数据结构"><a href="#常用的数据结构" class="headerlink" title="常用的数据结构"></a>常用的数据结构</h3><h4 id="集合（Collection）"><a href="#集合（Collection）" class="headerlink" title="集合（Collection）"></a>集合（Collection）</h4><p><strong>Collection</strong>是Java中的一个接口，它定义了容器应有的方法，如添加元素、删除元素、遍历元素、清空等等。它有很多不同的实现。容器要容纳某一种类型的元素，所以在使用容器时需要用到泛型。</p>
<ul>
<li><p>常用方法</p>
<p><code>Collection</code>为所有容器定义了元素操作，常用的有：</p>
<ol>
<li><p><code>add(E e)</code>方法添加元素</p>
</li>
<li><p><code>remove()</code>方法删除元素</p>
</li>
<li><p><code>clear()</code>方法清空容器</p>
</li>
</ol>
</li>
</ul>
<p><code>Collection</code>有很多不同的实现：</p>
<h5 id="列表（List）"><a href="#列表（List）" class="headerlink" title="列表（List）"></a>列表（List）</h5><p>​	数组相似。但<code>List</code>是一个<strong>接口</strong>，不能被实例化，需要使用<code>ArrayList</code>或<code>LinkedList</code>等。</p>
<h5 id="集合（Set）"><a href="#集合（Set）" class="headerlink" title="集合（Set）"></a>集合（Set）</h5><p>​	集合中不能有重复的元素。同样<code>Set</code>也是一个接口，需要使用<code>HashSet</code>或<code>SortedSet</code>等。</p>
<h5 id="队列（Queue）"><a href="#队列（Queue）" class="headerlink" title="队列（Queue）"></a>队列（Queue）</h5><p>​	类似列表，但是对容器的操作方式进行了限制，只能将新元素放在最后，只能拿出最早放进去的元素。具有<strong>先进先出</strong>的性质，像排队一样。<code>Queue</code>也是一个接口，需要使用<code>ArrayQueue</code>等。</p>
<h5 id="栈（Stack）"><a href="#栈（Stack）" class="headerlink" title="栈（Stack）"></a>栈（Stack）</h5><p>​	类似队列，但是只能将新元素放在前面，且只能拿出最新放进去的元素。具有<strong>后进先出</strong>的性质。</p>
<h4 id="映射（Map）"><a href="#映射（Map）" class="headerlink" title="映射（Map）"></a>映射（Map）</h4><p>​	<code>Map</code>是一个接口，但<code>Map</code>并<strong>不是</strong><code>Collection</code>的子接口。</p>
<p>​	<code>Map</code>中存储的是键值对&lt;KEY,VALUE&gt;，我们可以通过键拿到对应的值，即键和值构成了映射关系。</p>
<p>​	<code>Map</code>是接口，我们可以用<code>HashMap</code>来实例化。</p>
<ul>
<li><p>常用的方法</p>
<p>Map实例可以通过:</p>
<ol>
<li><code>V put(K k, V v)</code>向map中存入一个键值对，<code>K</code>为键，<code>V</code>为值，返回之前这个键对应的值。</li>
<li><code>V remove(Object key)</code>根据键移除map中的键值对。</li>
<li><code>V get(Object o)</code>根据键查找值。</li>
<li><code>Set&lt;K&gt; keySet()</code>获取map的键的集合</li>
<li><code>Collection&lt;V&gt; values()</code>获取map的值的集合</li>
<li><code>Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet()</code>获取键值对集合</li>
<li><code>V replace(K key, V value)</code>将key对应的值替换为参数value</li>
</ol>
</li>
</ul>
<h3 id="一个例子"><a href="#一个例子" class="headerlink" title="一个例子"></a>一个例子</h3><p>​	在之前People的demo基础上，增加一些代码。我们要定义一间教室，教室里有很多人<code>People</code>，人要可以问问题，还可以回答问题，人们可以在教室里进行讨论。我的帮手<strong>小明</strong>决定帮我完成<code>Classroom</code>类的定义，而我去完善人的定义。</p>
<p>​	但是现在，我们的“人”并不会问问题，也不会回答问题，<strong>小明</strong>也不知道我将会用什么样的方式实现这个功能。为了能够尽快开始工作，我们协商了两个接口<code>Answerable</code>和<code>CanAsk</code>，我们不需要修改什么代码，只要让<code>People</code>类实现这两个接口就定义好了”人”需要怎么问问题，怎么回答问题。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> classroom;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Answerable</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">answerQuestion</span><span class="params">(String answer)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> classroom;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">CanAsk</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">askQuestion</span><span class="params">(Answerable answerable, String question)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">People</span> <span class="keyword">implements</span> <span class="title class_">CanAsk</span>, Answerable &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	此时，我和<strong>小明</strong>就可以各自开始干各自的活。他写他的<code>Classroom</code>，我去完善<code>Teacher</code>和<code>Student</code>。而<code>Answerable</code>和<code>CanAsk</code>以及<code>People</code>在我们完工之前不能<strong>私自</strong>进行任何改动，这三块代码已经成为了我和<strong>小明</strong>任务对接的接口，它成为了一个<strong>不能轻易改变</strong>的协议，因为我们在完成各自的任务时<strong>都需要使用</strong>到这三份代码。</p>
<p>三天后，任务完成了，即使这三天我们没有进行任何沟通，代码也合并得十分完美，Perfect!</p>
<p>完成后的代码：</p>
<ul>
<li><p>Classroom.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> classroom;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Classroom</span> &#123;</span><br><span class="line">    <span class="comment">// 人不能有重复，所以使用set。重写了people类的equals 和 hashcode函数，集合才可以更合理地查重</span></span><br><span class="line">    <span class="keyword">private</span> Set&lt;People&gt; peoples = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="comment">// 记录题目到答案的映射。存储&lt;题目，答案&gt;键值对。</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, String&gt; question2answer = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Classroom</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="comment">//添加默认题库</span></span><br><span class="line">        question2answer.put(<span class="string">&quot;1+1=?&quot;</span>, <span class="string">&quot;2&quot;</span>);</span><br><span class="line">        question2answer.put(<span class="string">&quot;杨晨学姐美不美?&quot;</span>, <span class="string">&quot;美！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 添加问题</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> question 问题</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> answer 答案</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 教室</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Classroom <span class="title function_">addQA</span><span class="params">(String question,String answer)</span>&#123;</span><br><span class="line">        question2answer.put(question,answer);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 给教室添加人</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> people 人</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 教室</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Classroom <span class="title function_">addPeople</span><span class="params">(People people)</span> &#123;</span><br><span class="line">        peoples.add(people);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addPeople</span><span class="params">(List&lt;People&gt; peoples)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.peoples.addAll(peoples);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addPeople</span><span class="params">(People... peoples)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.peoples.addAll(Arrays.asList(peoples));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 提供答案查询功能</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> question</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getAnswer</span><span class="params">(String question)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> question2answer.get(question);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 开始讨论</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">discuss</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> askIndex, answerIndex, questionIndex;</span><br><span class="line">        <span class="comment">// 将人和问题转成数组</span></span><br><span class="line">        People[] peopleArray = <span class="keyword">new</span> <span class="title class_">People</span>[peoples.size()];</span><br><span class="line">        String[] questionArray = <span class="keyword">new</span> <span class="title class_">String</span>[question2answer.keySet().size()];</span><br><span class="line">        question2answer.keySet().toArray(questionArray);</span><br><span class="line">        peoples.toArray(peopleArray);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; <span class="number">5</span>; k++) &#123;</span><br><span class="line">            <span class="comment">//通过Math.random取随机数得到随机的索引值。</span></span><br><span class="line">            askIndex = (<span class="type">int</span>) (Math.random() * peopleArray.length);</span><br><span class="line">            answerIndex = (<span class="type">int</span>) (Math.random() * peopleArray.length);</span><br><span class="line">            <span class="keyword">while</span> (answerIndex == askIndex) &#123;</span><br><span class="line">                answerIndex = (<span class="type">int</span>) (Math.random() * peopleArray.length);</span><br><span class="line">            &#125;</span><br><span class="line">            questionIndex = (<span class="type">int</span>) (Math.random() * questionArray.length);</span><br><span class="line">            <span class="comment">//随机选择一个人随机问另一个人随机一个问题</span></span><br><span class="line">            peopleArray[askIndex].askQuestion(peopleArray[answerIndex], questionArray[questionIndex]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>People.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> classroom;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">People</span> <span class="keyword">implements</span> <span class="title class_">CanAsk</span>, Answerable &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">protected</span> String name;</span><br><span class="line">    <span class="keyword">protected</span> String words;</span><br><span class="line">    <span class="keyword">protected</span> String action;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">People</span><span class="params">(<span class="type">int</span> age, String name, String words, String action)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.words = words;</span><br><span class="line">        <span class="built_in">this</span>.action = action;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 每个人可以做些什么</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">doSomething</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">action</span> <span class="operator">=</span> action();</span><br><span class="line">        <span class="type">String</span> <span class="variable">words</span> <span class="operator">=</span> words();</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> Math.max(action.length(), words.length()) * <span class="number">2</span>;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        String line;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len / <span class="number">2</span>; i++) &#123;</span><br><span class="line">            sb.append(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        sb.append(name).append(<span class="string">&quot;的分割线&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len / <span class="number">2</span>; i++) &#123;</span><br><span class="line">            sb.append(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        line = sb.toString();</span><br><span class="line">        System.out.println(line);</span><br><span class="line">        System.out.println(action);</span><br><span class="line">        System.out.print(<span class="string">&quot;然后说：\&quot;&quot;</span>);</span><br><span class="line">        System.out.print(words);</span><br><span class="line">        System.out.println(<span class="string">&quot;。\&quot;&quot;</span>);</span><br><span class="line">        System.out.println(line);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将会说出的一段话。e.g 我是杨晨</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> String <span class="title function_">words</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 做出一个动作。e.g 露出开心的笑容</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> String <span class="title function_">action</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//为了Set可以更好的判断people是否相同，重写Object类的equals和hashCode函数</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">People</span> <span class="variable">people</span> <span class="operator">=</span> (People) o;</span><br><span class="line">        <span class="keyword">return</span> age == people.age &amp;&amp;</span><br><span class="line">                Objects.equals(name, people.name) &amp;&amp;</span><br><span class="line">                Objects.equals(words, people.words) &amp;&amp;</span><br><span class="line">                Objects.equals(action, people.action);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(age, name, words, action);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Student.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> classroom;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">People</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(<span class="type">int</span> age, String name, String words, String expression)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(age, name, words, expression);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> String <span class="title function_">words</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span>  words;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> String <span class="title function_">action</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name + <span class="string">&quot;同学&quot;</span> +</span><br><span class="line">                action + <span class="string">&quot;。&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">answerQuestion</span><span class="params">(String answer)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;A--Student &quot;</span> + name + <span class="string">&quot; :&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(answer==<span class="literal">null</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;我也不知道&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">double</span> <span class="variable">random</span> <span class="operator">=</span> Math.random();</span><br><span class="line">        <span class="comment">//假设学生有50%的概率知道答案。</span></span><br><span class="line">        <span class="keyword">if</span> (random &gt;= <span class="number">0.5</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;答案我知道，是：&quot;</span> + answer);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;答案是...我也不知道&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">askQuestion</span><span class="params">(Answerable answerable, String question)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Q--Student &quot;</span> + name + <span class="string">&quot; :&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;我想问个问题：&quot;</span> + question);</span><br><span class="line">        <span class="comment">//通知那个人（answerable）该回答问题了。</span></span><br><span class="line">        answerable.answerQuestion(Classroom.getAnswer(question));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Teacher.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> classroom;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.function.BiFunction;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span> <span class="keyword">extends</span> <span class="title class_">People</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> String subject;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Map&lt;String, Integer&gt; answer2count = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Teacher</span><span class="params">(<span class="type">int</span> age, String name, String words, String expression)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(age, name, words, expression, <span class="string">&quot;高数&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Teacher</span><span class="params">(<span class="type">int</span> age, String name, String words, String expression, String subject)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(age, name, words, expression);</span><br><span class="line">        <span class="built_in">this</span>.subject = subject;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> String <span class="title function_">words</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> words + <span class="string">&quot;。今天我给大家讲一讲《&quot;</span> +</span><br><span class="line">                subject +</span><br><span class="line">                <span class="string">&quot;》&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> String <span class="title function_">action</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name + <span class="string">&quot;老师&quot;</span> +</span><br><span class="line">                action + <span class="string">&quot;。&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">answerQuestion</span><span class="params">(String answer)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;A--Teacher &quot;</span> + name + <span class="string">&quot; :&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (answer == <span class="literal">null</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;我也不知道&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">count</span> <span class="operator">=</span> answer2count.get(answer);</span><br><span class="line">        <span class="keyword">if</span> (count != <span class="literal">null</span> &amp;&amp; count &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;这道题我已经讲过&quot;</span> + count + <span class="string">&quot;次了！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;这道题的答案是：&quot;</span> + answer);</span><br><span class="line">        answer2count.merge(answer, <span class="number">1</span>,</span><br><span class="line">                <span class="comment">//匿名内部类</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">BiFunction</span>&lt;Integer, Integer, Integer&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> Integer <span class="title function_">apply</span><span class="params">(Integer integer, Integer integer2)</span> &#123;</span><br><span class="line">                        <span class="keyword">return</span> integer + integer2;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">        <span class="comment">//Lambda表达式</span></span><br><span class="line"><span class="comment">//        answer2count.merge(answer, 1,</span></span><br><span class="line"><span class="comment">//                (integer, integer2) -&gt; integer + integer2);</span></span><br><span class="line">        <span class="comment">//使用相同的函数代替Lambda表达式</span></span><br><span class="line"><span class="comment">//        answer2count.merge(answer, 1,</span></span><br><span class="line"><span class="comment">//                Integer::sum);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">askQuestion</span><span class="params">(Answerable answerable, String question)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Q--Teacher &quot;</span> + name + <span class="string">&quot; :&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;问题是：&quot;</span> + question);</span><br><span class="line">        <span class="comment">//通知那个人（answerable）该回答问题了。</span></span><br><span class="line">        answerable.answerQuestion(Classroom.getAnswer(question));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Main.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> classroom.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">People</span> <span class="variable">mbg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>(<span class="number">69</span>, <span class="string">&quot;马保国&quot;</span>,</span><br><span class="line">                <span class="string">&quot;年轻人不讲武德&quot;</span>, <span class="string">&quot;捂着红肿的眼睛&quot;</span>,</span><br><span class="line">                <span class="string">&quot;武德&quot;</span>);</span><br><span class="line">        <span class="type">People</span> <span class="variable">yc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>(<span class="number">19</span>, <span class="string">&quot;杨晨&quot;</span>,</span><br><span class="line">                <span class="string">&quot;我女妆真好看&quot;</span>, <span class="string">&quot;露出开心的笑容&quot;</span>,</span><br><span class="line">                <span class="string">&quot;女妆的一百零八种技巧&quot;</span>);</span><br><span class="line">        <span class="type">People</span> <span class="variable">zk</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">21</span>, <span class="string">&quot;郑开&quot;</span>,</span><br><span class="line">                <span class="string">&quot;杨晨学姐太强了&quot;</span>, <span class="string">&quot;拍了拍杨晨&quot;</span>);</span><br><span class="line">        <span class="type">People</span> <span class="variable">robot</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">People</span>(<span class="number">0</span>, <span class="string">&quot;1024&quot;</span>, <span class="string">&quot;你们肯定猜不到我是机器人&quot;</span>, <span class="string">&quot;喝了一口机油&quot;</span>) &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">protected</span> String <span class="title function_">words</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> words;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">protected</span> String <span class="title function_">action</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> name + <span class="string">&quot;机器人&quot;</span> + action + <span class="string">&quot;。&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">answerQuestion</span><span class="params">(String answer)</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;A--Robot &quot;</span> + name + <span class="string">&quot; :&quot;</span>);</span><br><span class="line">                <span class="keyword">if</span> (answer == <span class="literal">null</span>) &#123;</span><br><span class="line">                    System.err.println(<span class="string">&quot;机器故障：NullPointerException&quot;</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="string">&quot;答案是：&quot;</span> + answer);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">askQuestion</span><span class="params">(Answerable answerable, String question)</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Q--Robot &quot;</span> + name + <span class="string">&quot; :&quot;</span>);</span><br><span class="line">                question = <span class="string">&quot;你知道我的名字吗?&quot;</span>;</span><br><span class="line">                System.out.println(<span class="string">&quot;问你个问题：&quot;</span> + question);</span><br><span class="line">                answerable.answerQuestion(Classroom.getAnswer(question));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        List&lt;People&gt; peoples = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        peoples.add(mbg);</span><br><span class="line">        peoples.add(yc);</span><br><span class="line">        peoples.add(zk);</span><br><span class="line">        peoples.add(robot);</span><br><span class="line">        <span class="keyword">for</span> (People people : peoples) &#123;</span><br><span class="line">            people.doSomething();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Classroom</span> <span class="variable">classroom</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Classroom</span>(<span class="string">&quot;twt&quot;</span>);</span><br><span class="line">        classroom.addPeople(peoples);</span><br><span class="line">        classroom.discuss();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>运行结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">=====================马保国的分割线=====================</span><br><span class="line">马保国老师捂着红肿的眼睛。</span><br><span class="line">然后说：<span class="string">&quot;年轻人不讲武德。今天我给大家讲一讲《武德》。&quot;</span></span><br><span class="line">=====================马保国的分割线=====================</span><br><span class="line">============================杨晨的分割线============================</span><br><span class="line">杨晨老师露出开心的笑容。</span><br><span class="line">然后说：<span class="string">&quot;我女妆真好看。今天我给大家讲一讲《女妆的一百零八种技巧》。&quot;</span></span><br><span class="line">============================杨晨的分割线============================</span><br><span class="line">==========郑开的分割线==========</span><br><span class="line">郑开同学拍了拍杨晨。</span><br><span class="line">然后说：<span class="string">&quot;杨晨学姐太强了。&quot;</span></span><br><span class="line">==========郑开的分割线==========</span><br><span class="line">==============<span class="number">1024</span>的分割线==============</span><br><span class="line"><span class="number">1024</span>机器人喝了一口机油。</span><br><span class="line">然后说：<span class="string">&quot;你们肯定猜不到我是机器人。&quot;</span></span><br><span class="line">==============<span class="number">1024</span>的分割线==============</span><br><span class="line">Q--Student 郑开 :</span><br><span class="line">我想问个问题：<span class="number">1</span>+<span class="number">1</span>=?</span><br><span class="line">A--Teacher 杨晨 :</span><br><span class="line">这道题的答案是：<span class="number">2</span></span><br><span class="line">Q--Teacher 马保国 :</span><br><span class="line">问题是：<span class="number">1</span>+<span class="number">1</span>=?</span><br><span class="line">A--Teacher 杨晨 :</span><br><span class="line">这道题的答案是：<span class="number">2</span></span><br><span class="line">Q--Student 郑开 :</span><br><span class="line">我想问个问题：杨晨学姐美不美?</span><br><span class="line">A--Robot <span class="number">1024</span> :</span><br><span class="line">答案是：美！</span><br><span class="line">Q--Teacher 马保国 :</span><br><span class="line">问题是：杨晨学姐美不美?</span><br><span class="line">A--Robot <span class="number">1024</span> :</span><br><span class="line">答案是：美！</span><br><span class="line">Q--Teacher 马保国 :</span><br><span class="line">问题是：<span class="number">1</span>+<span class="number">1</span>=?</span><br><span class="line">A--Student 郑开 :</span><br><span class="line">答案是...我也不知道</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="参考内容"><a href="#参考内容" class="headerlink" title="参考内容"></a>参考内容</h1><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/41a7a975502d">Java泛型</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42574142/article/details/87125363">JAVA常见容器</a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/AlexAnde/rookie-training-2020">demo代码仓库网址</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/11/07/Java-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/" data-id="clu4yxd1r0003lwv2a4flcvcg" data-title="Java 面向对象入门" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" rel="tag">面向对象</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/01/20/SRCNN/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          超分辨-SRCNN
        
      </div>
    </a>
  
  
    <a href="/2020/09/26/javassist2/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">字节码增强（二）</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/java%E5%AD%97%E8%8A%82%E7%A0%81%E5%A2%9E%E5%BC%BA/">java字节码增强</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/" rel="tag">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dom/" rel="tag">dom</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/instrument/" rel="tag">instrument</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javassist/" rel="tag">javassist</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%BC%80%E5%92%8C/" rel="tag">前缀和</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" rel="tag">卷积神经网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" rel="tag">图像处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag">学习笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" rel="tag">面向对象</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/dom/" style="font-size: 10px;">dom</a> <a href="/tags/instrument/" style="font-size: 20px;">instrument</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/javassist/" style="font-size: 10px;">javassist</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 20px;">前端</a> <a href="/tags/%E5%89%8D%E7%BC%80%E5%92%8C/" style="font-size: 10px;">前缀和</a> <a href="/tags/%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" style="font-size: 10px;">卷积神经网络</a> <a href="/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" style="font-size: 10px;">图像处理</a> <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="font-size: 20px;">学习笔记</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">数据结构</a> <a href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" style="font-size: 10px;">面向对象</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/02/10/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2021/08/05/dom%E5%B1%82%E7%BA%A7%E9%A1%BA%E5%BA%8F/">dom层级顺序</a>
          </li>
        
          <li>
            <a href="/2021/06/17/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/">树状数组</a>
          </li>
        
          <li>
            <a href="/2021/05/19/css-%E5%9D%97%E7%BA%A7%E8%A1%8C%E5%86%85%E5%85%83%E7%B4%A0/">css-块级行内元素</a>
          </li>
        
          <li>
            <a href="/2021/01/20/SRCNN/">超分辨-SRCNN</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>